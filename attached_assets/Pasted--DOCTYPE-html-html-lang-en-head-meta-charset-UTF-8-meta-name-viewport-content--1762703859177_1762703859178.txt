<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Outlook Envelope Animation</title>
  <style>
    @keyframes pinchAndRelease {
      0%, 100%, 12.5%, 25%, 35.5%, 50% { transform: scale(1,1) translateY(0); }
      5%, 30% { transform: scale(.86,1.1) translateY(-10px); }
    }
    @keyframes documentOneScale {
      0%, 100%, 35%, 50% { transform: translate(61px,82px) scale(0,0) rotateZ(20deg) rotateY(26deg); }
      12%, 22% { transform: translate(0,0) scale(1,1) rotateZ(-18deg) rotateY(0); }
    }
    @keyframes documentTwoScale {
      0%, 100%, 33%, 50% { transform: translate(44px,68px) scale(0,0) rotateZ(20deg) rotateY(26deg); }
      15%, 19% { transform: translate(0,0) scale(1,1) rotateZ(-9deg) rotateY(0); }
    }
    @keyframes layersSlideIn {
      0%, 23% { transform: translateY(74px) scale(0) rotateX(50deg) rotateZ(45deg); }
      33%, 100% { transform: translateY(0) scale(1) rotateX(50deg) rotateZ(45deg); }
    }

    body, html { margin: 0; padding: 0; height: 100%; background: #fff; display: flex; justify-content: center; align-items: center; font-family: sans-serif; }
    #container {
      width: 400px; height: 400px; display: flex; justify-content: center; align-items: center; position: relative;
      --duration: 3000ms; --easing: ease-in-out; --iterationCount: infinite;
    }
    .foreground, .background, .contents {
      width: 164px; height: 200px; border-radius: 26px; overflow: hidden; position: absolute;
      animation: pinchAndRelease var(--duration) var(--easing) var(--iterationCount);
    }
    .foreground { z-index: 100; }
    .background { z-index: 20; }
    .contents { z-index: 60; bottom: 100px; left: 118px; background: transparent; }

    .flap-top-inner-shadow {
      background: radial-gradient(circle, #00217700 54%, #0021778c 100%);
      background-position: -34px -34px; background-size: 170px 170px;
      width: 130px; height: 130px; position: absolute; top: 26px; left: 17px;
      border-radius: 18px 24px 0 24px; transform: rotateX(50deg) rotateZ(45deg); z-index: 50;
    }
    .flap-top-fill {
      background-color: #28afea; width: 130px; height: 130px; position: absolute;
      top: 26px; left: 17px; border-radius: 18px 24px 0 24px;
      transform: rotateX(50deg) rotateZ(45deg); z-index: 30;
    }
    .flap-left {
      width: 200px; height: 200px; border-radius: 0 38px;
      background: radial-gradient(circle, #2cbbf3 0, #87e5ff 100%);
      position: absolute; bottom: -80.5px; left: -112px;
      transform: rotateX(50deg) rotateZ(45deg); z-index: 51;
    }
    .flap-right {
      width: 200px; height: 200px; border-radius: 0 38px;
      background: linear-gradient(3deg, #0985dc 25%, #3da9fb 58%, #c29dfa 80%, #f4a7f7 100%);
      position: absolute; bottom: -80.5px; right: -112px;
      transform: rotateX(50deg) rotateZ(45deg); z-index: 50;
    }
    .background-fill {
      position: absolute; width: 100%; height: 110px; bottom: 0; left: 0;
      background: linear-gradient(56deg, #7bf4ff 0, #c29dfa 100%);
    }
    .layer-stack {
      background-color: #3834b9; width: 130px; height: 130px; position: absolute;
      top: 26px; left: 17px; z-index: 1; border-radius: 18px 24px 0 24px;
      transform: rotateX(50deg) rotateZ(45deg); overflow: hidden;
      animation: layersSlideIn var(--duration) var(--easing) var(--iterationCount);
    }
    .layer-stack::after {
      content: ''; position: absolute; top: -1px; left: 0; width: 86px; height: 158px;
      background-color: #4b6de7; border-top-right-radius: 24px; z-index: 10;
    }
    .layer-stack::before {
      content: ''; position: absolute; top: -1px; left: -10px; width: 54px; height: 158px;
      background: linear-gradient(344deg, rgb(50 146 234) 30%, #81c2f9 76%, #abb8fa 90%);
      border-radius: 60px; z-index: 20;
    }
    .document-one {
      position: absolute; width: 130px; height: 162px;
      background: linear-gradient(40deg, rgb(6 103 211) 40%, #7f85f6 100%);
      border-radius: 14px; left: 19px; top: 18px; z-index: 30;
      animation: documentOneScale var(--duration) var(--easing) var(--iterationCount);
    }
    .document-two {
      position: absolute; width: 114px; height: 156px;
      background: linear-gradient(47deg, #abc8e2 0, #fcefd6 100%);
      border-radius: 14px; left: 36px; top: 32px; z-index: 40;
      box-shadow: -9px -3px 4px -3px rgba(0,0,0,.1);
      animation: documentTwoScale var(--duration) var(--easing) var(--iterationCount);
    }
    .document-two::before {
      content: ''; position: absolute; top: 0; left: 0; width: 15px; height: 158px;
      background-color: #293bb0; border-radius: 24px 0 0 24px;
    }
  </style>
</head>
<body>
  <div id="container">
    <div class="foreground">
      <div class="flap-top-inner-shadow"></div>
      <div class="flap-left"></div>
      <div class="flap-right"></div>
    </div>
    <div class="contents">
      <div class="layer-stack"></div>
      <div class="document-two"></div>
      <div class="document-one"></div>
    </div>
    <div class="background">
      <div class="flap-top-fill"></div>
      <div class="background-fill"></div>
    </div>
  </div>
</body>
</html>